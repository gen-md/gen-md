---
name: gen-md-cli-package
description: Configuration for generating @gen-md/cli - command-line interface package
---
<input>
Generate a CLI package for gen-md.

## Package Type: npm CLI Tool

This is a command-line interface package that provides the `gen-md` binary.

### Structure Requirements
```
gen-md-cli/
├── bin/
│   └── gen-md.ts          # CLI entry point with shebang
├── src/
│   ├── index.ts           # Programmatic exports
│   └── commands/
│       ├── index.ts       # Command registration
│       ├── cascade.ts     # cascade command
│       ├── validate.ts    # validate command
│       └── compact.ts     # compact command
├── package.json           # Must include "bin" field
├── tsconfig.json
└── README.md
```

### Code Conventions
- Use Commander.js for CLI argument parsing
- Each command in its own file under src/commands/
- Import @gen-md/core for core functionality
- Provide both CLI and programmatic APIs
- Use clear, consistent option naming (--json, --dry-run, etc.)

### CLI Design
- Commands: cascade, validate, compact
- Support both positional arguments and options
- Provide --json flag for machine-readable output
- Use exit codes: 0 = success, 1 = error, 2 = validation failure

### Testing
- Use Vitest for unit tests
- Test command handlers independently from CLI parsing
- Mock @gen-md/core for isolated testing
</input>
