---
output: 
context:
  - ./package.json
  - ./README.md
  - ./gitgen.ts
---
# git gen - Generative git

## Project Overview
git gen is a tool that utilizes Node and TypeScript to generate new features in a git repository. It leverages git's extension mechanism, allowing users to generate code that matches the project's existing patterns and style. The project aims to simplify the development process by automating the creation of new features, reducing the time spent on repetitive coding tasks.

The tool reads the project's context, including git history, file structure, and recent commits, to understand the coding patterns, naming conventions, and style. It then uses this information to generate new code that blends in with the existing codebase.

## Tech Stack
- **Runtime**: Node.js
- **Language**: TypeScript (strict mode)
- **Build Tool**: TypeScript Compiler (tsc)
- **Testing Framework**: Vitest

## Architecture
### gitgen.ts (`./gitgen.ts`)
This is the main entry point of the application, responsible for handling user commands and generating new code.

### src/learn/index.ts (`./src/learn/index.ts`)
This module contains the logic for analyzing the project's context and generating code based on the learned patterns.

### src/providers/index.ts (`./src/providers/index.ts`)
This module provides support for multiple LLM providers, allowing users to choose their preferred provider for code generation.

## Coding Conventions

### File Organization
- `src/` - Source code for the application
- `tests/` - Unit tests and integration tests
- `prompts/` - Prompt files for different commands

### Naming
- Functions: camelCase (e.g., `generateFeature`)
- Types/Interfaces: PascalCase (e.g., `FeatureGenerator`)
- Files: kebab-case (e.g., `gitgen.ts`)
- Constants: uppercase with underscores (e.g., `MAX_FILE_SIZE`)

### Code Style
- Use strict TypeScript mode
- Use ES2022 syntax features
- Keep lines shorter than 120 characters
- Use consistent indentation (2 spaces)

### Commit Style
- Use conventional commits (e.g., "feat: add new feature")

## Adding New Features

Guidelines for adding new code that matches project patterns:

1. **Study recent diffs** to understand coding patterns, naming conventions, and style.
2. **Analyze the project structure** from the file list and context.
3. **List each file to create or modify**.
4. **Describe changes needed for each file**, matching the project's established patterns.

### Example: Generating a New Feature
```typescript
// Example of generating a new feature
async function generateFeature(feature: string) {
  // Get recent commits and diffs
  const recentCommits = git("log -20 --pretty=format:'%h %s'");
  const recentDiffs = getRecentDiffs(5);

  // Analyze project structure and coding patterns
  const allFiles = git("ls-files").split("\n").filter(Boolean);
  const fileList = allFiles.slice(0, 100).join("\n");

  // Generate new code based on learned patterns
  const newCode = generateCodeFromPatterns(feature, recentCommits, recentDiffs, fileList);

  // Create new files and add to git
  createFiles(newCode);
  gitAddAndCommit(newCode);
}
```