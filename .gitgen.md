---
name: gitgen
description: Generate README.md for gitgen CLI
skills:
  - "./.agent/skills/gen-md/SKILL.md"
context:
  - "./package.json"
  - "./src/index.ts"
  - "./src/mcp/server.ts"
  - "./src/core/extensions.ts"
  - "./src/core/prompt-loader.ts"
  - "./src/core/predictor.ts"
output: README.md
---
Generate a README.md for gitgen.

## Project
- Name: gitgen
- Version: 0.1.0
- License: MIT
- Node.js: >=20.0.0

## Overview
gitgen is a git-like MCP for predictive version control using `.gitgen.md` specs.

Like git manages versions of files, gitgen manages **predicted versions** of files. The natural I/O is git-like operations - checkout, diff, branch, status - but operating on predicted/generated content rather than committed history.

Key features:
- **Git-like interface** - status, diff, add, commit, watch, validate, cascade commands
- **Predictive generation** - Uses Anthropic API to predict content
- **Cascading configuration** - .gitgen.md files inherit from parent directories
- **MCP server** - Integrate with AI agents via Model Context Protocol (tools + resources)
- **Extensible architecture** - Custom LLM providers, prompt sections, and hooks
- **External prompts** - System prompts stored in markdown files for easy customization
- **Skills support** - Load domain-specific knowledge from external markdown files
- **Watch mode** - Auto-regenerate on spec changes
- **Validation** - Check specs without making API calls

## Commands
| Command | Description |
|---------|-------------|
| gitgen init | Initialize .gitgen directory |
| gitgen status | Show status of .gitgen.md specs |
| gitgen diff <spec> | Show predicted diff (calls Anthropic API) |
| gitgen add <file> | Create spec or stage existing |
| gitgen commit | Regenerate all staged specs |
| gitgen watch | Watch .gitgen.md files and auto-regenerate on change |
| gitgen cascade <spec> | Show inheritance chain for a spec |
| gitgen validate [path] | Validate specs without API calls |

## .gitgen.md File Format
```yaml
---
name: example
description: Description
context:
  - "./src/index.ts"
skills:
  - "./.agent/skills/skill.md"
output: README.md
---
Body content is the generation prompt.

<example>
input specification
---
output result
</example>
```

## Skills
Skills are markdown files that provide domain-specific knowledge to the generation. They're automatically loaded and injected into the prompt:
- Reference skill files in frontmatter: `skills: ["./.agent/skills/readme.md"]`
- Skills are extracted with their name from the first H1 heading
- Use skills to provide coding guidelines, API documentation, or any domain knowledge

## Extensibility
The system supports:
- **Custom LLM providers** - Add OpenAI, local models, etc. via extensions
- **Custom prompt sections** - Inject additional context with priority ordering
- **Pre/post hooks** - Process content before/after generation
- **Prompt overrides** - Place custom prompts in `.gitgen/prompts/` to override defaults

Sample extensions in `extensions/`:
- `code-review/` - Adds code review guidelines to generated code
- `openai-provider/` - Adds OpenAI as an alternative LLM provider

## MCP Server
The MCP server exposes:
- **Tools**: gitgen_status, gitgen_diff, gitgen_add, gitgen_commit, gitgen_init, gitgen_validate, gitgen_cascade
- **Resources**: All .gitgen.md specs as readable resources (gitgen://spec/path)

## README Sections
1. Header with project name
2. Brief description (git-like MCP concept)
3. Installation
4. Quick Start workflow
5. Commands table with descriptions
6. .gitgen.md File Format with frontmatter fields
7. Skills section
8. .gitgen/ Directory structure
9. Cascading Configuration
10. Extensibility (providers, prompt sections, hooks)
11. MCP Server Configuration (tools + resources)
12. Environment Variables (ANTHROPIC_API_KEY)
13. License
